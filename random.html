<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Randomizers - Chomp Tools</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/tools-recipes-style.css">
</head>

<body>
  <header class="site-header">
    <nav class="site-nav">
      <a href="https://chompchomp.cc" class="site-logo">
        <div class="site-logo-icon">
          <img src="https://res.cloudinary.com/dlqfyv1qj/image/upload/v1766535183/IMG_3432_w3bid3.png" alt="Chomp Chomp" class="logo-default">
          <img src="https://res.cloudinary.com/dlqfyv1qj/image/upload/v1766535197/IMG_3433_rqvbzu.jpg" alt="Chomp Chomp" class="logo-hover">
        </div>
      </a>

      <button class="menu-toggle" aria-label="Toggle menu">☰</button>

      <div class="nav-tools-dropdown">
        <button class="tools-dropdown-btn" onclick="toggleToolsDropdown()">Menu ▼</button>
        <ul class="tools-dropdown-menu" id="toolsDropdown">
          <li><a href="../index.html">Home</a></li>
          <li class="menu-item-has-submenu">
            <a href="#">Content</a>
            <ul class="submenu">
              <li><a href="../stories.html">Stories</a></li>
              <li><a href="../recipes.html">Recipes</a></li>
              <li><a href="../lexicon.html">Lexicon</a></li>
              <li><a href="../reading-list.html">Reading List</a></li>
            </ul>
          </li>
          <li><a href="../about.html">About</a></li>
          <li><a href="../store.html">Store</a></li>

          <li class="menu-item-has-submenu">
            <a href="#">Tools</a>
            <ul class="submenu">
              <li><a href="index.html">Index</a></li>
              <li><a href="ip.html">Whois</a></li>
              <li><a href="weather.html">Weather</a></li>
              <li><a href="convert.html">Convert</a></li>
              <li><a href="currency.html">Currency</a></li>
              <li><a href="encode.html">Encode</a></li>
              <li><a href="subnet.html">Subnet</a></li>
              <li><a href="text.html">Text</a></li>
              <li><a href="time.html">Time/Date</a></li>
              <li><a href="randomizers.html" class="active">Randomizers</a></li>
              <li><a href="color.html">Color</a></li>
            </ul>
          </li>

          <li class="menu-item-has-submenu">
            <a href="#">Ipsum</a>
            <ul class="submenu">
              <li><a href="baking.html">Baking</a></li>
              <li><a href="dante.html">Inferno</a></li>
              <li><a href="nautical.html">Nautical</a></li>
              <li><a href="philosophy.html">Philosophy</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <div class="page-container">
    <div class="tool-page">

      <div class="tool-header">
        <picture>
          <source srcset="https://ik.imagekit.io/chompchomp/Chomp%20Chomp%20logos%20-%2024.jpeg" media="(prefers-color-scheme: dark)">
          <img src="https://ik.imagekit.io/chompchomp/Chomp%20Chomp%20logos%20-%2023.jpeg" alt="Randomizers hero image">
        </picture>
        <p class="tool-subtitle">Generate random choices, numbers, shuffles, names &amp; tokens — ask anyway.</p>
      </div>

      <!-- 1) Coin flip x n -->
      <div class="tool-section">
        <h2 class="section-title">Coin Flip</h2>

        <div class="tool-controls">
          <div class="control-group">
            <label class="control-label" for="coinCount">How many flips</label>
            <input id="coinCount" class="form-input" type="number" min="1" max="5000" value="1">
            <small style="display:block; color: var(--color-text-secondary); margin-top: 6px;">
              Outputs a sequence like <code>HTHTTH</code>.
            </small>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="doCoinFlip()">Flip</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('coinOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetCoin()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="coinResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Result</div>
            <div class="result-value" id="coinOutput">—</div>
          </div>
          <div class="result-item">
            <div class="result-label">Heads / Tails</div>
            <div class="result-value" id="coinCounts">—</div>
          </div>
        </div>
      </div>

      <!-- 2) Dice roll -->
      <div class="tool-section">
        <h2 class="section-title">Dice Roll</h2>

        <div class="tool-controls">
          <div class="control-group" style="display:flex; align-items:center; gap:10px;">
            <input id="diceDouble" type="checkbox" />
            <label for="diceDouble" style="margin:0;">Roll <strong>2 × 2d6</strong> (two pairs)</label>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="rollDice()">Roll</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetDice()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="diceResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Total</div>
            <div class="result-value" id="diceTotal">—</div>
          </div>
          <div class="result-item">
            <div class="result-label">Details</div>
            <div class="result-value" id="diceDetails">—</div>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            Default is <strong>2d6</strong>. Check the box for <strong>2 × 2d6</strong>.
          </p>
        </div>
      </div>

      <!-- 3) Random Number -->
      <div class="tool-section">
        <h2 class="section-title">Random Number</h2>

        <div class="tool-controls">
          <div class="control-group">
            <label class="control-label" for="numMin">Min</label>
            <input id="numMin" class="form-input" type="number" value="1" />
          </div>

          <div class="control-group">
            <label class="control-label" for="numMax">Max</label>
            <input id="numMax" class="form-input" type="number" value="100" />
          </div>

          <div class="control-group" style="display:flex; align-items:center; gap: 10px;">
            <input id="numInclusive" type="checkbox" checked />
            <label for="numInclusive" style="margin:0;">Inclusive max</label>
          </div>

          <div class="control-group">
            <label class="control-label" for="numCount">How many</label>
            <input id="numCount" class="form-input" type="number" value="1" min="1" max="5000" />
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="generateNumbers()">Generate</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyTextArea('numOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetNumbers()">Reset</button>
          </div>
        </div>

        <div class="tool-controls" style="margin-top:12px;">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="numOutput">Output</label>
            <textarea id="numOutput" class="form-input" rows="5" placeholder="Results will appear here…" style="width:100%; resize:vertical;"></textarea>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            Generates integers within your range. Uncheck “Inclusive max” to treat max as exclusive.
          </p>
        </div>
      </div>

      <!-- 4) Magic Parallax Ontological Chomp -->
      <div class="tool-section">
        <h2 class="section-title">Magic Parallax Ontological Chomp</h2>

        <div class="tool-controls">
          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="askAnyway()">Ask Anyway</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('mpocOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetMpoc()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="mpocResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Answer</div>
            <div class="result-value" id="mpocOutput">—</div>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            <strong>Ask anyway.</strong> The answer may undermine the question. That’s the point.
          </p>
        </div>
      </div>

      <!-- 5) What’s your Chomp Name -->
      <div class="tool-section">
        <h2 class="section-title">What’s Your Chomp Name</h2>

        <div class="tool-controls">
          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="chompName()">Be yourself</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('chompNameOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetChompName()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="chompNameResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Name</div>
            <div class="result-value" id="chompNameOutput">—</div>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            Combines a random cookie name with a philosopher last name.
          </p>
        </div>
      </div>

      <!-- 6) Pick From List -->
      <div class="tool-section">
        <h2 class="section-title">Pick From List</h2>

        <div class="tool-controls">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="listInput">Items (one per line)</label>
            <textarea id="listInput" class="form-input" rows="7" placeholder="Paste items here…" style="width:100%; resize:vertical;"></textarea>
          </div>

          <div class="control-group">
            <label class="control-label" for="pickCount">How many picks</label>
            <input id="pickCount" class="form-input" type="number" value="1" min="1" max="5000" />
          </div>

          <div class="control-group" style="display:flex; align-items:center; gap:10px;">
            <input id="pickUnique" type="checkbox" checked />
            <label for="pickUnique" style="margin:0;">Unique picks (no repeats)</label>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="pickFromList()">Pick</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('pickOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetPick()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="pickResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Picked</div>
            <div class="result-value" id="pickOutput">—</div>
          </div>
          <div class="result-item">
            <div class="result-label">Valid items</div>
            <div class="result-value" id="pickLineCount">—</div>
          </div>
        </div>
      </div>

      <!-- 7) Shuffle Lines -->
      <div class="tool-section">
        <h2 class="section-title">Shuffle Lines</h2>

        <div class="tool-controls">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="shuffleInput">Input (one per line)</label>
            <textarea id="shuffleInput" class="form-input" rows="7" placeholder="Paste lines to shuffle…" style="width:100%; resize:vertical;"></textarea>
          </div>

          <div class="control-group" style="display:flex; align-items:center; gap:10px;">
            <input id="shuffleIgnoreEmpty" type="checkbox" checked />
            <label for="shuffleIgnoreEmpty" style="margin:0;">Ignore empty lines</label>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="shuffleLines()">Shuffle</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyTextArea('shuffleOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetShuffle()">Reset</button>
          </div>
        </div>

        <div class="tool-controls" style="margin-top:12px;">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="shuffleOutput">Output</label>
            <textarea id="shuffleOutput" class="form-input" rows="7" placeholder="Shuffled lines will appear here…" style="width:100%; resize:vertical;"></textarea>
          </div>
        </div>
      </div>

      <!-- 8) Password / Token Generator -->
      <div class="tool-section">
        <h2 class="section-title">Password / Token Generator</h2>

        <div class="tool-controls">
          <div class="control-group">
            <label class="control-label" for="pwLength">Length</label>
            <input id="pwLength" class="form-input" type="number" value="24" min="4" max="256" />
          </div>

          <div class="control-group" style="display:flex; flex-direction:column; gap:8px;">
            <div style="display:flex; align-items:center; gap:10px;">
              <input id="pwLower" type="checkbox" checked />
              <label for="pwLower" style="margin:0;">Lowercase</label>
            </div>
            <div style="display:flex; align-items:center; gap:10px;">
              <input id="pwUpper" type="checkbox" checked />
              <label for="pwUpper" style="margin:0;">Uppercase</label>
            </div>
            <div style="display:flex; align-items:center; gap:10px;">
              <input id="pwDigits" type="checkbox" checked />
              <label for="pwDigits" style="margin:0;">Digits</label>
            </div>
            <div style="display:flex; align-items:center; gap:10px;">
              <input id="pwSymbols" type="checkbox" />
              <label for="pwSymbols" style="margin:0;">Symbols</label>
            </div>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="generatePassword()">Generate</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('pwOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetPassword()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="pwResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Result</div>
            <div class="result-value" id="pwOutput">—</div>
          </div>
          <div class="result-item">
            <div class="result-label">Charset</div>
            <div class="result-value" id="pwCharset">—</div>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            For real credentials, use a password manager. This is best for quick tokens and test data.
          </p>
        </div>
      </div>

      <!-- 9) Random Order / Ranker -->
      <div class="tool-section">
        <h2 class="section-title">Random Order / Ranker</h2>

        <div class="tool-controls">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="rankInput">Items (one per line)</label>
            <textarea id="rankInput" class="form-input" rows="7" placeholder="Paste items to rank…" style="width:100%; resize:vertical;"></textarea>
          </div>

          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="rankItems()">Rank</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyTextArea('rankOutput')">Copy</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetRank()">Reset</button>
          </div>
        </div>

        <div class="tool-controls" style="margin-top:12px;">
          <div class="control-group" style="width:100%;">
            <label class="control-label" for="rankOutput">Output</label>
            <textarea id="rankOutput" class="form-input" rows="7" placeholder="Ranked items will appear here…" style="width:100%; resize:vertical;"></textarea>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            Produces a shuffled list with numeric ranks (1, 2, 3…).
          </p>
        </div>
      </div>

      <!-- 10) Random Color -->
      <div class="tool-section">
        <h2 class="section-title">Random Color</h2>

        <div class="tool-controls">
          <div class="tool-actions" style="gap:10px; flex-wrap:wrap;">
            <button class="tool-button" type="button" onclick="randomColor()">Generate</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('colorHex')">Copy HEX</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('colorRgb')">Copy RGB</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="copyText('colorHsl')">Copy HSL</button>
            <button class="tool-button tool-button-secondary" type="button" onclick="resetColor()">Reset</button>
          </div>
        </div>

        <div class="tool-results" id="colorResults" style="display:none;">
          <div class="result-item">
            <div class="result-label">Preview</div>
            <div class="result-value">
              <span id="colorSwatch" style="display:inline-block; width:42px; height:22px; border-radius:6px; border:1px solid rgba(255,255,255,0.15); vertical-align:middle;"></span>
              <span style="margin-left:10px; color: var(--color-text-secondary);">Random color</span>
            </div>
          </div>

          <div class="result-item">
            <div class="result-label">HEX</div>
            <div class="result-value" id="colorHex">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">RGB</div>
            <div class="result-value" id="colorRgb">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">HSL</div>
            <div class="result-value" id="colorHsl">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">Open Color Tool</div>
            <div class="result-value">
              <a href="color.html" class="btn btn-outline" style="display:inline-block;">Go to Color →</a>
            </div>
          </div>
        </div>

        <div class="info-box">
          <p style="margin:0;">
            Generates a random RGB color and shows HEX/RGB/HSL. Use the Color tool for palettes, conversions, and contrast checks.
          </p>
        </div>
      </div>

      <div style="text-align:center; margin-top:40px;">
        <a href="index.html" class="btn btn-outline">← Back to Tools</a>
      </div>

    </div>
  </div>

  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="mailto:hey@chompchomp.cc">hey@chompchomp.cc</a>
        <a href="https://www.chomp.ltd">chomp chomp: cookies, etc.</a>
        <a href="https://chompchomp.cc">chomp chomp: recipes &amp; rituals</a>
      </div>
      <p style="margin-top: 15px;">&copy; 2025 Chomp Chomp</p>
    </div>
  </footer>

  <script>
    // ----------------------------
    // Menu bits (kept consistent)
    // ----------------------------
    function toggleToolsDropdown() {
      const dropdown = document.getElementById('toolsDropdown');
      dropdown.classList.toggle('active');
    }

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.nav-tools-dropdown')) {
        const dropdown = document.getElementById('toolsDropdown');
        if (dropdown) dropdown.classList.remove('active');
      }
    });

    const menuToggle = document.querySelector('.menu-toggle');
    const toolsDropdown = document.querySelector('.nav-tools-dropdown');
    if (menuToggle && toolsDropdown) {
      menuToggle.addEventListener('click', () => {
        toolsDropdown.classList.toggle('active');
      });
    }

    // ----------------------------
    // Random helpers (crypto-first)
    // ----------------------------
    function hasCrypto() {
      return typeof crypto !== 'undefined' && crypto && typeof crypto.getRandomValues === 'function';
    }

    function randUint32() {
      if (hasCrypto()) {
        const a = new Uint32Array(1);
        crypto.getRandomValues(a);
        return a[0];
      }
      return Math.floor(Math.random() * 0xFFFFFFFF);
    }

    // Unbiased int in [0, maxExclusive)
    function randInt(maxExclusive) {
      const max = Math.floor(maxExclusive);
      if (!Number.isFinite(max) || max <= 0) return 0;

      const limit = Math.floor(0x100000000 / max) * max;
      let x;
      do { x = randUint32(); } while (x >= limit);
      return x % max;
    }

    function fisherYatesShuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = randInt(i + 1);
        const tmp = a[i];
        a[i] = a[j];
        a[j] = tmp;
      }
      return a;
    }

    function cleanLines(text, ignoreEmpty) {
      const lines = String(text || '').split(/\r\n|\r|\n/);
      return ignoreEmpty ? lines.map(l => l.trim()).filter(l => l.length > 0) : lines;
    }

    async function copyText(elId) {
      const el = document.getElementById(elId);
      const text = el ? (el.textContent || '') : '';
      try { await navigator.clipboard.writeText(text); }
      catch (e) { alert('Copy failed. Your browser may block clipboard access on this page.'); }
    }

    async function copyTextArea(elId) {
      const el = document.getElementById(elId);
      const text = el ? (el.value || '') : '';
      try { await navigator.clipboard.writeText(text); }
      catch (e) { alert('Copy failed. Your browser may block clipboard access on this page.'); }
    }

    // ----------------------------
    // Lists you provided
    // ----------------------------
    const MPOC_LIST = [
      "Yes - but only because it fails first",
      "Exactly! This is the contradiction",
      "The symptom screams it",
      "The mistake is the solution",
      "You already believe this",
      "The Real punches through",
      "Enjoyment collapses here",
      "The obscene underside helps you",
      "Precisely because it looks stupid",
      "This is where the act happens",
      "No, no - this is more complicated",
      "The question cheats",
      "Something disgusting intervenes",
      "We must step back",
      "The frame itself is the problem",
      "No - this is pure ideology",
      "This is how the system wins",
      "Enjoyment traps you",
      "The fantasy holds",
      "You are enjoying the illusion"
    ];

    const COOKIE_LIST = [
      "Chocolate chip",
      "Oatmeal raisin",
      "Sugar cookie",
      "Peanut butter",
      "Snickerdoodle",
      "Shortbread",
      "Gingerbread",
      "Molasses cookie",
      "Double chocolate",
      "White chocolate macadamia",
      "Thumbprint",
      "Linzer",
      "Biscotti",
      "Amaretti",
      "Spritz",
      "Butter cookie",
      "Fortune cookie",
      "Madeleine",
      "Macaron",
      "Florentine",
      "Tuile",
      "Anzac biscuit",
      "Hobnob",
      "Digestive biscuit",
      "Speculaas",
      "Pfeffernüsse",
      "Lebkuchen",
      "Almond crescent",
      "Rugelach",
      "Kolaczki",
      "Pizzelle",
      "Palmier",
      "Viennese whirl",
      "Empire biscuit",
      "Jam sandwich cookie",
      "Black-and-white cookie",
      "Brownie cookie",
      "Crinkle cookie",
      "Whoopie pie",
      "Alfajores",
      "Stroopwafel",
      "Polvorón",
      "Kourabiedes",
      "Melomakarona",
      "Nankhatai",
      "Bourbon biscuit",
      "Nice biscuit"
    ];

    const PHIL_LIST = [
      "Plato",
      "Aristotle",
      "Socrates",
      "Descartes",
      "Kant",
      "Hegel",
      "Nietzsche",
      "Spinoza",
      "Locke",
      "Hume",
      "Rousseau",
      "Hobbes",
      "Kierkegaard",
      "Schopenhauer",
      "Wittgenstein",
      "Heidegger",
      "Sartre",
      "Camus",
      "Foucault",
      "Derrida",
      "Deleuze",
      "Confucius",
      "Laozi",
      "Zhuangzi",
      "Mencius",
      "Aquinas",
      "Augustine",
      "Anselm",
      "Avicenna",
      "Averroes",
      "Maimonides",
      "Epicurus",
      "Zeno",
      "Heraclitus",
      "Parmenides",
      "Pythagoras",
      "Mill",
      "Bentham",
      "Rawls",
      "Nozick",
      "Popper",
      "Kuhn",
      "Arendt",
      "Beauvoir",
      "Merleau-Ponty",
      "Levinas",
      "Buber"
    ];

    // ----------------------------
    // 1) Coin flip
    // ----------------------------
    const coinCountEl = document.getElementById('coinCount');
    const coinResults = document.getElementById('coinResults');
    const coinOutput = document.getElementById('coinOutput');
    const coinCounts = document.getElementById('coinCounts');

    function doCoinFlip() {
      let n = parseInt(String(coinCountEl.value), 10);
      if (!Number.isFinite(n) || n < 1) n = 1;
      if (n > 5000) n = 5000;

      let heads = 0;
      let tails = 0;
      const out = [];

      for (let i = 0; i < n; i++) {
        const h = randInt(2) === 0;
        out.push(h ? 'H' : 'T');
        if (h) heads++; else tails++;
      }

      coinOutput.textContent = out.join('');
      coinCounts.textContent = `${heads} H / ${tails} T`;
      coinResults.style.display = 'block';
    }

    function resetCoin() {
      coinCountEl.value = '1';
      coinResults.style.display = 'none';
      coinOutput.textContent = '—';
      coinCounts.textContent = '—';
    }

    // ----------------------------
    // 2) Dice roll
    // ----------------------------
    const diceDouble = document.getElementById('diceDouble');
    const diceResults = document.getElementById('diceResults');
    const diceTotal = document.getElementById('diceTotal');
    const diceDetails = document.getElementById('diceDetails');

    function roll2d6() {
      const a = 1 + randInt(6);
      const b = 1 + randInt(6);
      return { a, b, total: a + b };
    }

    function rollDice() {
      const isDouble = !!diceDouble.checked;

      if (!isDouble) {
        const r = roll2d6();
        diceTotal.textContent = String(r.total);
        diceDetails.textContent = `2d6: ${r.a} + ${r.b}`;
      } else {
        const r1 = roll2d6();
        const r2 = roll2d6();
        diceTotal.textContent = String(r1.total + r2.total);
        diceDetails.textContent = `2×2d6: (${r1.a}+${r1.b}) + (${r2.a}+${r2.b}) = ${r1.total} + ${r2.total}`;
      }

      diceResults.style.display = 'block';
    }

    function resetDice() {
      diceDouble.checked = false;
      diceResults.style.display = 'none';
      diceTotal.textContent = '—';
      diceDetails.textContent = '—';
    }

    // ----------------------------
    // 3) Random numbers
    // ----------------------------
    const numMinEl = document.getElementById('numMin');
    const numMaxEl = document.getElementById('numMax');
    const numInclusiveEl = document.getElementById('numInclusive');
    const numCountOutEl = document.getElementById('numCount');
    const numOutputEl = document.getElementById('numOutput');

    function randIntRange(min, max, inclusiveMax) {
      const a = Math.floor(min);
      const b = Math.floor(max);
      if (!Number.isFinite(a) || !Number.isFinite(b)) return null;
      const lo = Math.min(a, b);
      const hi = Math.max(a, b);
      const span = inclusiveMax ? (hi - lo + 1) : (hi - lo);
      if (span <= 0) return null;
      return lo + randInt(span);
    }

    function generateNumbers() {
      const min = Number(numMinEl.value);
      const max = Number(numMaxEl.value);
      const inclusive = !!numInclusiveEl.checked;
      let count = parseInt(String(numCountOutEl.value), 10);
      if (!Number.isFinite(count) || count < 1) count = 1;
      if (count > 5000) count = 5000;

      const out = [];
      for (let i = 0; i < count; i++) {
        const v = randIntRange(min, max, inclusive);
        if (v === null) {
          alert('Invalid range. If max is exclusive, max must be greater than min.');
          return;
        }
        out.push(String(v));
      }
      numOutputEl.value = out.join('\n');
    }

    function resetNumbers() {
      numMinEl.value = '1';
      numMaxEl.value = '100';
      numInclusiveEl.checked = true;
      numCountOutEl.value = '1';
      numOutputEl.value = '';
    }

    // ----------------------------
    // 4) MPOC (Ask Anyway)
    // ----------------------------
    const mpocResults = document.getElementById('mpocResults');
    const mpocOutput = document.getElementById('mpocOutput');

    function askAnyway() {
      const pick = MPOC_LIST[randInt(MPOC_LIST.length)];
      mpocOutput.textContent = pick;
      mpocResults.style.display = 'block';
    }

    function resetMpoc() {
      mpocResults.style.display = 'none';
      mpocOutput.textContent = '—';
    }

    // ----------------------------
    // 5) Chomp Name
    // ----------------------------
    const chompNameResults = document.getElementById('chompNameResults');
    const chompNameOutput = document.getElementById('chompNameOutput');

    function chompName() {
      const cookie = COOKIE_LIST[randInt(COOKIE_LIST.length)];
      const phil = PHIL_LIST[randInt(PHIL_LIST.length)];
      chompNameOutput.textContent = `${cookie} ${phil}`;
      chompNameResults.style.display = 'block';
    }

    function resetChompName() {
      chompNameResults.style.display = 'none';
      chompNameOutput.textContent = '—';
    }

    // ----------------------------
    // 6) Pick from list
    // ----------------------------
    const listInput = document.getElementById('listInput');
    const pickCount = document.getElementById('pickCount');
    const pickUnique = document.getElementById('pickUnique');
    const pickResults = document.getElementById('pickResults');
    const pickOutput = document.getElementById('pickOutput');
    const pickLineCount = document.getElementById('pickLineCount');

    function pickFromList() {
      const lines = cleanLines(listInput.value, true);
      pickLineCount.textContent = String(lines.length);

      let count = parseInt(String(pickCount.value), 10);
      if (!Number.isFinite(count) || count < 1) count = 1;
      if (count > 5000) count = 5000;

      if (lines.length === 0) {
        alert('Please add at least one item.');
        return;
      }

      const unique = !!pickUnique.checked;
      if (unique && count > lines.length) {
        alert('Unique picks requested, but pick count is larger than the number of items.');
        return;
      }

      let picks = [];
      if (unique) {
        picks = fisherYatesShuffle(lines).slice(0, count);
      } else {
        for (let i = 0; i < count; i++) picks.push(lines[randInt(lines.length)]);
      }

      pickOutput.textContent = picks.join(' • ');
      pickResults.style.display = 'block';
    }

    function resetPick() {
      listInput.value = '';
      pickCount.value = '1';
      pickUnique.checked = true;
      pickResults.style.display = 'none';
      pickOutput.textContent = '—';
      pickLineCount.textContent = '—';
    }

    // ----------------------------
    // 7) Shuffle lines
    // ----------------------------
    const shuffleInput = document.getElementById('shuffleInput');
    const shuffleIgnoreEmpty = document.getElementById('shuffleIgnoreEmpty');
    const shuffleOutput = document.getElementById('shuffleOutput');

    function shuffleLines() {
      const lines = cleanLines(shuffleInput.value, !!shuffleIgnoreEmpty.checked);
      if (lines.length === 0) {
        alert('Please add at least one line.');
        return;
      }
      shuffleOutput.value = fisherYatesShuffle(lines).join('\n');
    }

    function resetShuffle() {
      shuffleInput.value = '';
      shuffleOutput.value = '';
      shuffleIgnoreEmpty.checked = true;
    }

    // ----------------------------
    // 8) Password / token
    // ----------------------------
    const pwLength = document.getElementById('pwLength');
    const pwLower = document.getElementById('pwLower');
    const pwUpper = document.getElementById('pwUpper');
    const pwDigits = document.getElementById('pwDigits');
    const pwSymbols = document.getElementById('pwSymbols');
    const pwResults = document.getElementById('pwResults');
    const pwOutput = document.getElementById('pwOutput');
    const pwCharset = document.getElementById('pwCharset');

    const LOWER = 'abcdefghijklmnopqrstuvwxyz';
    const UPPER = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const DIGITS = '0123456789';
    const SYMBOLS = '!@#$%^&*()-_=+[]{};:,.?/';

    function generatePassword() {
      let len = parseInt(String(pwLength.value), 10);
      if (!Number.isFinite(len) || len < 4) len = 24;
      if (len > 256) len = 256;

      let charset = '';
      if (pwLower.checked) charset += LOWER;
      if (pwUpper.checked) charset += UPPER;
      if (pwDigits.checked) charset += DIGITS;
      if (pwSymbols.checked) charset += SYMBOLS;

      if (!charset) { alert('Select at least one character set.'); return; }

      const required = [];
      if (pwLower.checked) required.push(LOWER[randInt(LOWER.length)]);
      if (pwUpper.checked) required.push(UPPER[randInt(UPPER.length)]);
      if (pwDigits.checked) required.push(DIGITS[randInt(DIGITS.length)]);
      if (pwSymbols.checked) required.push(SYMBOLS[randInt(SYMBOLS.length)]);

      const remaining = Math.max(0, len - required.length);
      const chars = required.slice();
      for (let i = 0; i < remaining; i++) chars.push(charset[randInt(charset.length)]);

      const final = fisherYatesShuffle(chars).join('');
      pwOutput.textContent = final;

      const cs =
        (pwLower.checked ? 'lower ' : '') +
        (pwUpper.checked ? 'upper ' : '') +
        (pwDigits.checked ? 'digits ' : '') +
        (pwSymbols.checked ? 'symbols ' : '');
      pwCharset.textContent = cs.trim() || '—';

      pwResults.style.display = 'block';
    }

    function resetPassword() {
      pwLength.value = '24';
      pwLower.checked = true;
      pwUpper.checked = true;
      pwDigits.checked = true;
      pwSymbols.checked = false;
      pwResults.style.display = 'none';
      pwOutput.textContent = '—';
      pwCharset.textContent = '—';
    }

    // ----------------------------
    // 9) Ranker
    // ----------------------------
    const rankInput = document.getElementById('rankInput');
    const rankOutput = document.getElementById('rankOutput');

    function rankItems() {
      const lines = cleanLines(rankInput.value, true);
      if (lines.length === 0) {
        alert('Please add at least one item.');
        return;
      }
      const ranked = fisherYatesShuffle(lines).map((v, i) => `${i + 1}. ${v}`);
      rankOutput.value = ranked.join('\n');
    }

    function resetRank() {
      rankInput.value = '';
      rankOutput.value = '';
    }

    // ----------------------------
    // 10) Random color
    // ----------------------------
    const colorResults = document.getElementById('colorResults');
    const colorSwatch = document.getElementById('colorSwatch');
    const colorHex = document.getElementById('colorHex');
    const colorRgb = document.getElementById('colorRgb');
    const colorHsl = document.getElementById('colorHsl');

    function toHex(n) {
      const h = n.toString(16).toUpperCase();
      return h.length === 1 ? '0' + h : h;
    }

    function rgbToHsl(r, g, b) {
      r /= 255; g /= 255; b /= 255;
      const max = Math.max(r, g, b), min = Math.min(r, g, b);
      let h = 0, s = 0, l = (max + min) / 2;

      if (max !== min) {
        const d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
          case r: h = (g - b) / d + (g < b ? 6 : 0); break;
          case g: h = (b - r) / d + 2; break;
          case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
      }

      return {
        h: Math.round(h * 360),
        s: Math.round(s * 100),
        l: Math.round(l * 100)
      };
    }

    function randomColor() {
      const r = randInt(256);
      const g = randInt(256);
      const b = randInt(256);

      const hex = `#${toHex(r)}${toHex(g)}${toHex(b)}`;
      const rgb = `rgb(${r}, ${g}, ${b})`;
      const hsl = rgbToHsl(r, g, b);
      const hslStr = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;

      colorSwatch.style.background = hex;
      colorHex.textContent = hex;
      colorRgb.textContent = rgb;
      colorHsl.textContent = hslStr;

      colorResults.style.display = 'block';
    }

    function resetColor() {
      colorResults.style.display = 'none';
      colorSwatch.style.background = 'transparent';
      colorHex.textContent = '—';
      colorRgb.textContent = '—';
      colorHsl.textContent = '—';
    }
  </script>
</body>
</html>
